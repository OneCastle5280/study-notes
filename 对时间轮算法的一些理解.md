# 对时间轮算法的一些理解
### 1. 前言
之前在学习了解 `rpc` 底层工作原理的时候，好奇 rpc 的超时判断、定时心跳检测这些定时类的功能是如何实现的；了解到可以通过时间轮算法来进行实现；然后我就在思考两个问题：
1. 时间轮有什么优点，为什么使用这个算法来实现
2. 如果让我自己手写一个时间轮能不能写？

### 2. 如果不使用时间轮
假设我们不用时间轮来实现定时任务，我们应该如何来实现超时或者定时任务？最容易想到的一种方式就是：起个线程，sleep 指定时间，然后再继续往下执行，这个是最简单的实现思路。
如果定时任务越来越多，一个定时任务就要一个线程，太浪费了；资源浪费和扩展性差。

### 3. 时间轮算法
时间轮算法其实也并不复杂，简单来讲，就是将时间固定切分为多个时间槽，并用一个指针周期性的扫描每一个槽来处理定时任务。
例如：我们把一分钟切分成 60 个槽，指针每一秒移动一次，然后判断槽关联的任务是否需要触发执行。这就是时间轮的核心思想。

根据时间轮的核心思想，我实现了一个单层时间轮，传送门: [tiny-time-wheel](https://github.com/OneCastle5280/tiny-time-wheel)。